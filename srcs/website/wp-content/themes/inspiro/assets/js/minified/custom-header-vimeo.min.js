(i=>{var e;i.wp=i.wp||!1,i.wp&&i.wp.customHeader&&(e=i.wp.customHeader.BaseVideoHandler.extend({test(e){return"video/x-vimeo"===e.mimeType},ready(){let e=this;var t;"Vimeo"in i?e.loadVideo():((t=document.createElement("script")).src="https://player.vimeo.com/api/player.js",t.onload=function(){e.loadVideo()},document.getElementsByTagName("head")[0].appendChild(t))},loadVideo(){let t,s=this;this._paused=!0,this.player=t=new Vimeo.Player(this.container,{autopause:!1,autoplay:!0,background:!0,byline:!1,height:this.settings.height,loop:!0,portrait:!1,title:!1,url:this.settings.videoUrl,width:this.settings.width,id:this.settings.id}),t.on("play",function(){s._paused=!1,s.trigger("play")}),t.on("pause",function(){s._paused=!0,s.trigger("pause")}),t.ready().then(function(){var e=s.container.getElementsByTagName("img")[0];e.src===s.settings.posterUrl&&s.container.removeChild(e),s.showControls(),t.getPaused().then(function(e){(s._paused=e)||s.trigger("play")})}),t.setVolume(0)},isPaused(){return this._paused},pause(){this.player.pause()},play(){this.player.play()}}),i.wp.customHeader.BaseVideoHandler.extend({origin:"https://player.vimeo.com",test(e){return"video/x-vimeo"===e.mimeType},ready(){let s=this,e=this.settings.videoUrl.split("/").pop(),t=document.createElement("iframe");this._paused=!0,s.setVideo(t),t.id="wp-custom-header-video",t.src="https://player.vimeo.com/video/"+e+"?api=1&autopause=0&autoplay=0&background=1&badge=0&byline=0&loop=1&player_id="+t.id+"&portrait=0&title=0",this.iframe=t,i.addEventListener("message",function(e){let t;if(s.origin===e.origin){try{t=JSON.parse(e.data)}catch(e){return}"wp-custom-header-video"===t.player_id&&("ready"===t.event?(s.postMessage("addEventListener","pause"),s.postMessage("addEventListener","play"),s.postMessage("setVolume",0),s.play(),s.showControls()):"pause"===t.event?(s._paused=!0,s.trigger(t.event)):"play"===t.event&&(s._paused=!1,s.trigger(t.event)))}})},isPaused(){return this._paused},pause(){this.postMessage("pause")},play(){this.postMessage("play")},postMessage(e,t){e=JSON.stringify({method:e,value:t});this.iframe.contentWindow.postMessage(e,this.origin)}}),i.wp.customHeader.handlers.vimeo=new e)})(window);